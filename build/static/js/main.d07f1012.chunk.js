(this.webpackJsonpcheff=this.webpackJsonpcheff||[]).push([[0],{51:function(e,t,n){},53:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},86:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(29),s=n.n(o),i=(n(68),n.p,n(69),n(4)),r=n(99),l=n(97),d=n(100),u=n(101),j=n(14),h=(n(70),n(1)),m=function(){var e=Object(a.useState)(),t=Object(i.a)(e,2),n=t[0],c=t[1];localStorage.setItem("city",n);var o=localStorage.getItem("name"),s="Chef"===localStorage.getItem("role")?"/dashBoard":"/userDashboard",m=localStorage.getItem("access_token");return Object(h.jsx)("div",{children:Object(h.jsx)(r.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",fixed:!0,children:Object(h.jsxs)(l.a,{children:[Object(h.jsx)(r.a.Brand,{href:"/",children:"CHEF"}),Object(h.jsx)(r.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(h.jsxs)(r.a.Collapse,{id:"responsive-navbar-nav",children:[Object(h.jsx)(d.a,{className:"me-auto"}),Object(h.jsxs)(d.a,{children:[Object(h.jsx)("div",{classname:"location",children:Object(h.jsxs)(u.a.Select,{"aria-label":"Default select example",className:"locationSelect",onChange:function(e){c(e.target.value)},value:n,children:[Object(h.jsx)("option",{children:"Location"}),Object(h.jsx)("option",{value:"Banglore",children:"Banglore"}),Object(h.jsx)("option",{value:"Mumbai",children:"Mumbai"}),Object(h.jsx)("option",{value:"Delhi",children:"Delhi"})]})}),Object(h.jsx)(d.a.Link,{eventKey:2,as:j.b,to:{pathname:void 0===m||null===m?"/login":s,state:{currentLocation:n}},children:void 0===m||null===m?"Login":o})]})]})]})})})},b=(n(51),n(58)),p=function(){var e=sessionStorage.getItem("data");return e?JSON.parse(e):null},f=function(e,t){sessionStorage.setItem("access_token",e),sessionStorage.setItem("data",JSON.stringify(t))},v=n(9),g=function(){var e,t=Object(v.f)();localStorage.setItem("city","Mumbai");var n=Object(a.useState)([]),c=Object(i.a)(n,2),o=c[0],s=c[1];Object(a.useEffect)((function(){fetch("".concat("http://54.175.153.89:4000/api","/getDish/")).then((function(e){return e.json()})).then((function(e){s(e),console.log(e)})).catch((function(e){console.log(e)})),navigator.geolocation.getCurrentPosition((function(e){p()}))}),[]);localStorage.getItem("access_token");return Object(h.jsxs)("div",{className:"mainSection",children:[Object(h.jsx)("img",{className:"mainImage",src:"https://images.unsplash.com/photo-1504674900247-0877df9cc836?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1170&q=80",alt:"image"}),Object(h.jsxs)("div",{className:"searchSection container",children:[Object(h.jsx)("div",{id:"search",children:Object(h.jsx)(b.ReactSearchAutocomplete,{items:o.data,onSearch:function(e,t){},onHover:function(e){},placeholder:"Search your favourite dish here",onSelect:function(e){return t.push("/cheffList/"+e.id)},onFocus:function(){},autoFocus:!0,formatResult:function(e){return e}})}),Object(h.jsxs)("div",{className:"cheffList",children:[Object(h.jsx)("h1",{id:"dishes",children:"Dishes"}),Object(h.jsx)("div",{className:"scrollsections",children:null===o||void 0===o||null===(e=o.data)||void 0===e?void 0:e.map((function(e){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(j.b,{style:{textDecoration:"none"},to:{pathname:"/cheffList/"+e.id,state:e},children:Object(h.jsxs)("div",{className:"listSection",children:[Object(h.jsx)("img",{className:"image",src:null===e||void 0===e?void 0:e.picture,alt:null===e||void 0===e?void 0:e.name}),Object(h.jsx)("h4",{className:"des",children:null===e||void 0===e?void 0:e.name})]})}),Object(h.jsx)("hr",{})]})}))})]})]})]})},O=n(98),x=n(55),S=(n(86),function(e){var t,n=Object(a.useState)([]),c=Object(i.a)(n,2),o=c[0],s=c[1];return Object(a.useEffect)((function(){!function(){var t=localStorage.getItem("city");fetch("".concat("http://54.175.153.89:4000/api","/getChefByDishAndLocation?dishId=").concat(e.match.params.id,"&location=").concat(t)).then((function(e){return e.json()})).then((function(e){s(e)})).catch((function(e){console.log(e)}))}()}),[]),Object(h.jsxs)("div",{id:"/cheffList",children:[Object(h.jsxs)(O.a,{className:"header-row",children:[Object(h.jsx)(x.a,{lg:3,children:"Name"}),Object(h.jsx)(x.a,{lg:3,children:"Contact Number"}),Object(h.jsx)(x.a,{lg:3,children:"Price"}),Object(h.jsx)(x.a,{lg:3,children:"Rating"})]}),Object(h.jsx)(O.a,{className:"content-row",children:null===o||void 0===o||null===(t=o.data)||void 0===t?void 0:t.map((function(t,n){return Object(h.jsx)(j.b,{to:{pathname:"/orderConfirm/"+localStorage.getItem("id")+"/"+t.id+"/"+e.match.params.id+"/"+t.charges+"/"+t.name,state:e.location.state},style:{textDecoration:"none",color:"black"},children:Object(h.jsxs)("div",{className:"section",children:[Object(h.jsx)(x.a,{className:"col",lg:3,children:t.name},n),Object(h.jsx)(x.a,{className:"col",lg:3,children:t.mobile_number},n),Object(h.jsx)(x.a,{className:"col",lg:3,children:t.charges},n),Object(h.jsx)(x.a,{className:"col",lg:3,children:t.rating},n)]})})}))})]})}),N=n(7),y=n.n(N),C=n(11),w=n(13),I=(n(88),n(36)),k=function(e){var t,n=Object(v.f)(),c=e.match.params.uid,o=e.match.params.cid,s=e.match.params.did,r=e.match.params.price,l=e.match.params.cname,d=Object(a.useState)([]),u=Object(i.a)(d,2),j=u[0],m=u[1],b=function(){var e=Object(C.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p({userid:c.toString(),chefid:o.toString(),dishid:s.toString(),status:"Waiting",charges:r});case 2:if("success"!==(t=e.sent).status){e.next=6;break}return localStorage.setItem("RequestID",t.data.id),e.abrupt("return",n.push("/waitingPage"));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(C.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat("http://54.175.153.89:4000/api","/requestAdd"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(C.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://54.175.153.89:4000/api","/getDishByID?id=")+s.toString()).then((function(e){return e.json()})).then((function(e){m(e)})).catch((function(e){console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return window.navigator.geolocation.getCurrentPosition((function(e){!function(e,t){var n={id:c.toString(),lat:e.toString(),lan:t.toString()};fetch("".concat("http://54.175.153.89:4000/api","/updateLocation"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()}))}(e.coords.latitude,e.coords.longitude)})),Object(a.useEffect)((function(){f()}),[]),Object(h.jsx)("div",{children:null===j||void 0===j||null===(t=j.data)||void 0===t?void 0:t.map((function(e){return Object(h.jsxs)("div",{id:"orderConfirm",className:"orderConfirmSection container",children:[Object(h.jsx)("img",{className:"confirmImage",src:e.picture,alt:e.name}),Object(h.jsxs)("table",{children:[Object(h.jsx)("h1",{children:" Order Details"}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"Dish"}),Object(h.jsx)("td",{children:e.name})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"Price"}),Object(h.jsxs)("td",{children:["\u20b9",r]})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"Chef"}),Object(h.jsx)("td",{children:l})]})]}),Object(h.jsxs)(w.a,{className:"btns",type:"button",onClick:b,children:["Confirm ",e.name.toString()]})]})}))})},D=n(6),B=function(e){var t,n,c,o,s=Object(a.useState)(""),r=Object(i.a)(s,2),l=r[0],d=r[1],m=Object(a.useState)(""),b=Object(i.a)(m,2),p=b[0],f=b[1],g=Object(v.f)(),O=function(){var e=Object(C.a)(y.a.mark((function e(t){var n,a,c,o,s,i,r,d,u;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),0===l.length||0===p.length){e.next=9;break}return console.log("no error on submit"),e.next=5,x({email:l,password:p});case 5:"success"===(n=e.sent).status&&"Chef"===n.data.role?(localStorage.setItem("access_token",null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.access_token),localStorage.setItem("name",null===n||void 0===n||null===(c=n.data)||void 0===c?void 0:c.name),localStorage.setItem("id",null===n||void 0===n||null===(o=n.data)||void 0===o?void 0:o.id),localStorage.setItem("role",null===n||void 0===n||null===(s=n.data)||void 0===s?void 0:s.role),localStorage.getItem("access_token"),localStorage.getItem("name"),g.push("/dashBoard"),window.location.reload()):"success"===n.status&&"Customer"===n.data.role?(localStorage.setItem("access_token",null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i.access_token),localStorage.setItem("name",null===n||void 0===n||null===(r=n.data)||void 0===r?void 0:r.name),localStorage.setItem("id",null===n||void 0===n||null===(d=n.data)||void 0===d?void 0:d.id),localStorage.setItem("role",null===n||void 0===n||null===(u=n.data)||void 0===u?void 0:u.role),localStorage.getItem("access_token"),localStorage.getItem("name"),g.push("/userDashBoard"),window.location.reload()):alert(n.message),e.next=10;break;case 9:console.log("no successfull");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(C.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat("http://54.175.153.89:4000/api","/signIn"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)("div",{className:"register",id:"signin",children:Object(h.jsxs)("div",{id:"login",className:"registerPage container",children:[Object(h.jsx)("h2",{className:"regis",children:"Login"}),Object(h.jsxs)(u.a,{onSubmit:O,children:[Object(h.jsx)(u.a.Group,(t={className:"mb-3",controlId:"formBasicEmail"},Object(D.a)(t,"className","form"),Object(D.a)(t,"children",Object(h.jsx)(u.a.Control,{type:"email",placeholder:"Enter Email",className:"input",onChange:function(e){return d(e.target.value)},value:l})),t)),Object(h.jsx)(u.a.Group,(n={className:"mb-3",controlId:"formBasicPassword"},Object(D.a)(n,"className","form"),Object(D.a)(n,"children",Object(h.jsx)(u.a.Control,{type:"password",placeholder:"Enter Password",className:"input",onChange:function(e){return f(e.target.value)},value:p})),n)),Object(h.jsx)(w.a,{variant:"primary",type:"submit",className:"btn",children:"Login"}),Object(h.jsx)(j.b,{to:{pathname:"signUp",state:{currentLocation:null===e||void 0===e||null===(c=e.location)||void 0===c||null===(o=c.state)||void 0===o?void 0:o.currentLocation}},children:Object(h.jsxs)("p",{className:"checkAccount",children:["Don't have an account? ",Object(h.jsx)("span",{children:"Register"})]})})]})]})})},L=(n(89),function(e){var t,n,c,o,s,r,l=Object(v.f)(),d=Object(a.useState)(""),m=Object(i.a)(d,2),b=m[0],p=m[1],g=Object(a.useState)(""),O=Object(i.a)(g,2),x=O[0],S=O[1],N=Object(a.useState)(""),I=Object(i.a)(N,2),k=I[0],B=I[1],L=Object(a.useState)(""),T=Object(i.a)(L,2),M=T[0],_=T[1],P=Object(a.useState)(""),E=Object(i.a)(P,2),R=E[0],F=E[1],G=Object(a.useState)(e.location.state.currentLocation),A=Object(i.a)(G,2),J=A[0],H=A[1],q=Object(a.useState)(""),K=Object(i.a)(q,2),V=K[0],U=K[1],Y=function(){var e=Object(C.a)(y.a.mark((function e(t){var n,a,c,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),0===b.length||0===x.length||0===k.length||0===M.length||0===R.length){e.next=18;break}if(console.log("no error on submit"),"Chef"!==R){e.next=12;break}return localStorage.setItem("tempName",b),localStorage.setItem("tempemail",x),localStorage.setItem("tempmno",M),localStorage.setItem("tempp",k),localStorage.setItem("tempLoc",J),localStorage.setItem("tempCharges",V),l.push("/selectDishes"),e.abrupt("return");case 12:return e.next=14,z({name:b,email:x,password:k,mobile_number:M,role:R,location:J,charges:V});case 14:"success"===(n=e.sent).status&&"Chef"===n.data.role?(f(n.data.access_token,n.data),l.push("/selectDishes")):"success"===n.status&&"Customer"===n.data.role?(localStorage.setItem("access_token",null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.access_token),localStorage.setItem("name",null===n||void 0===n||null===(c=n.data)||void 0===c?void 0:c.name),localStorage.setItem("id",null===n||void 0===n||null===(o=n.data)||void 0===o?void 0:o.id),f(n.data.access_token,n.data),l.push("/")):alert("Something went wrong please try again later"),e.next=19;break;case 18:console.log("no successfull");case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(C.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat("http://54.175.153.89:4000/api","/signUp"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)("div",{className:"register",children:Object(h.jsxs)("div",{id:"login",className:"registerPage container",children:[Object(h.jsx)("h2",{className:"regis",children:"Register"}),Object(h.jsxs)(u.a,{onSubmit:Y,children:[Object(h.jsx)(u.a.Group,(t={className:"mb-3",controlId:"formBasicName"},Object(D.a)(t,"className","form"),Object(D.a)(t,"children",Object(h.jsx)(u.a.Control,{type:"text",placeholder:"Enter FullName",className:"input",onChange:function(e){return p(e.target.value)},value:b})),t)),Object(h.jsx)(u.a.Group,(n={className:"mb-3",controlId:"formBasicEmail"},Object(D.a)(n,"className","form"),Object(D.a)(n,"children",Object(h.jsx)(u.a.Control,{type:"email",placeholder:"Enter Email",className:"input",onChange:function(e){return S(e.target.value)},value:x})),n)),Object(h.jsx)(u.a.Group,(c={className:"mb-3",controlId:"formBasicPassword"},Object(D.a)(c,"className","form"),Object(D.a)(c,"children",Object(h.jsx)(u.a.Control,{type:"password",placeholder:"Enter Password",className:"input",onChange:function(e){return B(e.target.value)},value:k})),c)),Object(h.jsx)(u.a.Group,(o={className:"mb-3",controlId:"formBasicNumber"},Object(D.a)(o,"className","form"),Object(D.a)(o,"children",Object(h.jsx)(u.a.Control,{type:"text",placeholder:"Enter Mobile Number",className:"input",onChange:function(e){_(e.target.value),console.log("oh",e.target.value)},value:M})),o)),Object(h.jsxs)(u.a.Select,{"aria-label":"Default select example",className:"forms",onChange:function(e){F(e.target.value);var t=document.getElementById("charge");"Chef"===e.target.value?t.style.display="block":t.style.display="none"},value:R,children:[Object(h.jsx)("option",{children:"Select Role"}),Object(h.jsx)("option",{value:"Chef",children:"Chef"}),Object(h.jsx)("option",{value:"Customer",children:"Customer"})]}),Object(h.jsx)(u.a.Group,(s={className:"mb-3",controlId:"formBasicNumber"},Object(D.a)(s,"className","form"),Object(D.a)(s,"style",{display:"none"}),Object(D.a)(s,"id","charge"),Object(D.a)(s,"children",Object(h.jsx)(u.a.Control,{type:"text",placeholder:"Enter Your Charges",className:"input",onChange:function(e){U(e.target.value),console.log("Charge",e.target.value)},value:V})),s)),Object(h.jsx)(u.a.Group,(r={className:"mb-3",controlId:"formBasicLocation"},Object(D.a)(r,"className","form"),Object(D.a)(r,"children",Object(h.jsx)(u.a.Control,{type:"text",placeholder:"Enter Location",className:"input",onChange:function(e){return H(e.target.value)},value:J})),r)),Object(h.jsx)(w.a,{variant:"primary",type:"submit",className:"btn",children:"Register"}),Object(h.jsx)(j.b,{to:"/login",children:Object(h.jsxs)("p",{className:"checkAccount",style:{textDecoration:"none"},children:["Alredy have an account? ",Object(h.jsx)("span",{children:"Login"})]})})]})]})})}),T=(n(90),function(){p();var e,t,n,c=localStorage.getItem("id"),o=Object(a.useState)([]),s=Object(i.a)(o,2),r=(s[0],s[1],Object(v.f)()),l=Object(a.useState)(0),d=Object(i.a)(l,2),u=d[0],m=d[1],b=Object(a.useState)([]),f=Object(i.a)(b,2),g=f[0],O=f[1],x=Object(a.useState)([]),S=Object(i.a)(x,2),N=S[0],I=S[1];Object(a.useEffect)((function(){setInterval((function(){L()}),8500)}),[]),Object(a.useEffect)((function(){L(),T(),window.navigator.geolocation.getCurrentPosition((function(e){M(e.coords.latitude,e.coords.longitude)}))}),[]);var k=function(){var e=Object(C.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("handleLogout() called"),t=localStorage.getItem("id"),e.next=4,fetch("".concat("http://54.175.153.89:4000/api","/signOut"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})}).then((function(e){return e.json()}));case 4:return localStorage.clear(),sessionStorage.clear(),r.push("/login"),e.abrupt("return");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(C.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("handleOnAcceot Called : ",t),n={request_id:t.id,user_id:t.userid,chef_id:t.chefid,dish_id:t.dishid,charges:t.charges,status:"Accepted"},e.next=4,fetch("".concat("http://54.175.153.89:4000/api","/addOrder"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){return localStorage.setItem("orderData",e)}));case 4:return r.push("/dashBoard"),window.location.reload(),e.abrupt("return");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(C.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("handleOnReject Called : ",t),n={request_id:t.id,user_id:t.userid,chef_id:t.chefid,dish_id:t.dishid,charges:t.charges,status:"Rejected"},e.next=4,fetch("".concat("http://54.175.153.89:4000/api","/addOrder"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){return localStorage.setItem("orderData",e)}));case 4:return r.push("/dashBoard"),window.location.reload(),e.abrupt("return");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(C.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://54.175.153.89:4000/api","/getRequestsByChefId?id=").concat(localStorage.getItem("id").toString()),{headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){0!=e.data.length&&(g.data==e.data&&0!=g.data.length||0==e.data.length||O(e))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(C.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://54.175.153.89:4000/api","/getOrdersByChefId?id=").concat(localStorage.getItem("id").toString()),{headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){I(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(e,t){var n={id:c,lat:e.toString(),lan:t.toString()};return fetch("".concat("http://54.175.153.89:4000/api","/updateLocation"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()}))},_=null===N||void 0===N||null===(e=N.data)||void 0===e?void 0:e.filter((function(e){return"Accepted"===e.status})),P=null===N||void 0===N||null===(t=N.data)||void 0===t?void 0:t.filter((function(e){return"Rejected"===e.status})),E=localStorage.getItem("name");return Object(h.jsxs)("div",{className:"dashBoardSection",id:"dashBoard",children:[Object(h.jsxs)("div",{className:"headerSection",children:[Object(h.jsxs)("div",{className:"d-flex",children:[Object(h.jsx)("p",{className:"homes",children:Object(h.jsx)(j.b,{className:"homes",to:{pathname:"/"},children:"CHEFF"})}),Object(h.jsx)("p",{className:"userName",children:E})]}),Object(h.jsx)(w.a,{className:"buttons",type:"submit",onClick:k,children:"Logout"})]}),Object(h.jsx)("div",{className:"tabSection container",children:Object(h.jsxs)("div",{className:"tabBar",children:[Object(h.jsx)("div",{onClick:function(){return m(0)},className:0===u?"tabs-selected":"tabs",children:"New Order"}),Object(h.jsx)("div",{onClick:function(){return m(1)},className:1===u?"tabs-selected":"tabs",children:"Rejected Order"}),Object(h.jsx)("div",{onClick:function(){return m(2)},className:2===u?"tabs-selected":"tabs",children:"Accepted Order"})]})}),Object(h.jsx)("div",{className:"cheffList",children:Object(h.jsx)("div",{className:"scrollsections",children:0===u?null===g||void 0===g||null===(n=g.data)||void 0===n?void 0:n.map((function(e){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"listSectionn",children:[Object(h.jsxs)("div",{className:"namePortion",children:[Object(h.jsx)("img",{className:"image",src:null===e||void 0===e?void 0:e.dishpicture,alt:null===e||void 0===e?void 0:e.dishname}),Object(h.jsx)("h4",{className:"des",children:null===e||void 0===e?void 0:e.dishname})]}),Object(h.jsxs)("div",{className:"btnGroup",children:[Object(h.jsx)(w.a,{id:"acceptButton",type:"submit",onClick:function(){return D(e)},children:"Accept"}),Object(h.jsx)(w.a,{id:"rejectButton",type:"submit",onClick:function(){return B(e)},children:"Reject"})]})]}),Object(h.jsx)("hr",{})]})})):1===u?null===P||void 0===P?void 0:P.map((function(e){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"listSection",children:[Object(h.jsx)("img",{className:"image",src:null===e||void 0===e?void 0:e.dishpicture,alt:null===e||void 0===e?void 0:e.dishname}),Object(h.jsx)("h4",{className:"des",children:null===e||void 0===e?void 0:e.dishname})]}),Object(h.jsx)("hr",{})]})})):null===_||void 0===_?void 0:_.map((function(e){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(j.b,{to:{pathname:"/order/".concat(null===e||void 0===e?void 0:e.id)},style:{textDecoration:"none",color:"black"},children:Object(h.jsxs)("div",{className:"acceptedListSection",children:[Object(h.jsxs)("div",{className:"d-flex align-items-center",children:[Object(h.jsx)("img",{className:"image",src:null===e||void 0===e?void 0:e.dishpicture,alt:null===e||void 0===e?void 0:e.dishname}),Object(h.jsx)("h4",{className:"des",children:null===e||void 0===e?void 0:e.dishname})]}),Object(h.jsx)("div",{className:"btnGroup",children:Object(h.jsx)(w.a,{id:"status",type:"submit",style:{float:"right"},children:null===e||void 0===e?void 0:e.status})})]})}),Object(h.jsx)("hr",{})]})}))})})]})}),M=(n(91),function(e){var t,n=Object(v.f)(),c=Object(a.useState)([]),o=Object(i.a)(c,2),s=o[0],r=o[1],l=Object(a.useState)([]),d=Object(i.a)(l,2),j=d[0],m=(d[1],function(){var e=Object(C.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://54.175.153.89:4000/api","/getDish/")).then((function(e){return e.json()})).then((function(e){r(e)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());Object(a.useEffect)((function(){m()}),[]);var b=function(){var e=Object(C.a)(y.a.mark((function e(t){var a,c,o,s,i,r,l,d,u,h;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=localStorage.getItem("tempName"),c=localStorage.getItem("tempemail"),o=localStorage.getItem("tempp"),s=localStorage.getItem("tempmno"),i=localStorage.getItem("tempLoc"),0===a.length||0===c.length||0===o.length||0===s.length||0===i.length){e.next=14;break}return console.log("no error on submit"),e.next=10,p({name:a,email:c,dishes:j,password:o,mobile_number:s,role:"Chef",location:i});case 10:"success"===(r=e.sent).status&&"Chef"===r.data.role?(localStorage.setItem("access_token",null===r||void 0===r||null===(l=r.data)||void 0===l?void 0:l.access_token),localStorage.setItem("name",null===r||void 0===r||null===(d=r.data)||void 0===d?void 0:d.name),localStorage.setItem("id",null===r||void 0===r||null===(u=r.data)||void 0===u?void 0:u.id),localStorage.setItem("role",null===r||void 0===r||null===(h=r.data)||void 0===h?void 0:h.role),f(r.data.access_token,r.data),n.push("/dashBoard")):alert("Something went wrong please try again later"),e.next=15;break;case 14:console.log("no successfull");case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(C.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat("http://54.175.153.89:4000/api","/signUp"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();localStorage.getItem("access_token");return Object(h.jsxs)("div",{className:"cheffListItem",children:[Object(h.jsx)("h3",{children:"Select Dishes"}),Object(h.jsxs)(u.a,{onSubmit:b,children:[Object(h.jsx)("div",{className:"scrollSection",children:null===s||void 0===s||null===(t=s.data)||void 0===t?void 0:t.map((function(e,t){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"listSections",children:[Object(h.jsx)("input",{className:"inputCheck",type:"checkbox",value:null===e||void 0===e?void 0:e.id,id:null===e||void 0===e?void 0:e.id,onClick:function(e){var t=e.target.value.toString(),n=j.indexOf(t);n>=0?j.splice(n,1):j.push(e.target.value.toString())}}),Object(h.jsx)("img",{className:"images",src:null===e||void 0===e?void 0:e.picture,alt:null===e||void 0===e?void 0:e.name}),Object(h.jsx)("h4",{className:"des",style:{textDecoration:"none"},children:null===e||void 0===e?void 0:e.name})]},t),Object(h.jsx)("hr",{})]})}))}),Object(h.jsx)(w.a,{variant:"primary",type:"submit",className:"btn",children:"Register"})]})]})}),_=(n(92),function(e){var t=Object(v.f)(),n=localStorage.getItem("RequestID"),a="Waiting for Chefs Confirmation";return setInterval((function(){fetch("".concat("http://54.175.153.89:4000/api","/getOrderDetailsByRequestId/?id=")+n).then((function(e){return e.json()})).then((function(e){"success"===e.status&&("Accepted"===e.data[0].status?(t.push("/userorder/"+e.data[0].id),window.location.reload()):(a="order declined by the chef",t.push("/"),window.location.reload()))})).catch((function(e){console.log(e)}))}),8e3),Object(h.jsxs)("div",{className:"mainSection",children:[Object(h.jsx)("img",{className:"mainImage",src:"https://images.unsplash.com/photo-1504674900247-0877df9cc836?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1170&q=80",alt:"image"}),Object(h.jsx)("div",{className:"searchSection container",children:Object(h.jsxs)("div",{className:"cheffList",children:[Object(h.jsx)("h1",{id:"dishes",children:a}),Object(h.jsx)("div",{className:"scrollsections",children:Object(h.jsx)("div",{className:"WaitingPageLoading"})})]})})]})}),P=(n(53),"Calculating");function E(e,t){console.log("MatrixResult"),"OK"===t&&(console.log("response",e),P=e.rows[0].elements[0].duration.text)}function R(e,t,n,a){if(e){new t.maps.Marker({position:n,map:e}),new t.maps.Marker({position:a,map:e});var c=a,o=n;console.log("inside map",n);var s="DRIVING",i=new t.maps.DirectionsRenderer({draggable:!0});!function(e,t,n,a,c,o,s){console.log("DisplayRoute"),a.route({origin:t,destination:n,travelMode:s.maps.TravelMode[e],avoidTolls:!0},(function(e,t){"OK"===t?(c.setMap(o),c.setDirections(e)):(c.setMap(null),c.setDirections(null),alert("Could not display directions due to: "+t))}))}(s,c,o,new t.maps.DirectionsService,i,e,t),function(e,t,n,a){console.log("CalulateDistance"),(new a.maps.DistanceMatrixService).getDistanceMatrix({origins:[t],destinations:[n],travelMode:a.maps.TravelMode[e],unitSystem:a.maps.UnitSystem.metric,avoidHighways:!1,avoidTolls:!1},E)}(s,c,o,t)}}var F=function(e){var t,n,c,o,s,r=e.match.params.oid,l=Object(a.useState)(),d=Object(i.a)(l,2),u=d[0],j=d[1],m=Object(a.useState)(),b=Object(i.a)(m,2),p=b[0],f=b[1],v=Object(a.useState)([]),g=Object(i.a)(v,2),O=(g[0],g[1]),x=Object(a.useState)([]),S=Object(i.a)(x,2),N=S[0],y=S[1],C=Object(a.useState)("Calculating"),k=Object(i.a)(C,2),D=k[0],B=k[1],L={lat:u,lng:p},T={};setInterval((function(){B(P)}),4e3);var M=function(){fetch("".concat("http://54.175.153.89:4000/api","/getOrderDetailsById?id=")+r).then((function(e){return e.json()})).then((function(e){var t,n,a,c;O(e),console.log("order data",e),a=null===(t=e.data)||void 0===t?void 0:t[0].dish_id,fetch("".concat("http://54.175.153.89:4000/api","/getDishByID?id=")+a).then((function(e){return e.json()})).then((function(e){y(e)})).catch((function(e){console.log(e)})),c=null===(n=e.data)||void 0===n?void 0:n[0].user_id,fetch("".concat("http://54.175.153.89:4000/api","/getLocation?id=")+c).then((function(e){return e.json()})).then((function(e){T={lat:parseFloat(null===e||void 0===e?void 0:e.data.lat),lng:parseFloat(null===e||void 0===e?void 0:e.data.lan)},R(F,G,T,L),console.log("".concat("http://54.175.153.89:4000/api","/getLocation?id=")+c,T,L)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},_=Object(I.a)("AIzaSyDKCv2QQ_IY7K49V4GreKYziu2qVy-ms2E",{center:{lat:u,lng:p},zoom:14}),E=_.ref,F=_.map,G=_.google;return Object(a.useEffect)((function(){window.navigator.geolocation.getCurrentPosition((function(e){j(e.coords.latitude),f(e.coords.longitude)})),M()}),[F,p,P]),Object(h.jsx)("div",{children:Object(h.jsxs)("div",{id:"orderConfirm",className:"orderConfirmSection container",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{style:{paddingTop:"25px"},children:Object(h.jsx)("h5",{children:null===N||void 0===N||null===(t=N.data)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.name})}),Object(h.jsx)("img",{className:"confirmImage",src:null===N||void 0===N||null===(c=N.data)||void 0===c||null===(o=c[0])||void 0===o?void 0:o.picture,alt:null===N||void 0===N||null===(s=N.data)||void 0===s?void 0:s[0].name})]}),Object(h.jsx)("div",{ref:E,style:{width:400,height:300}}),Object(h.jsxs)(w.a,{id:"time",className:"btns",children:["Time ",D," "]})]})})},G="Calculating";function A(e,t){console.log("MatrixResult"),"OK"===t&&(console.log("response",e),G=e.rows[0].elements[0].duration.text)}function J(e,t,n,a){if(e){new t.maps.Marker({position:n,map:e}),new t.maps.Marker({position:a,map:e});var c=a,o=n;console.log("inside map",n);var s="DRIVING",i=new t.maps.DirectionsRenderer({draggable:!0});!function(e,t,n,a,c,o,s){console.log("DisplayRoute"),a.route({origin:t,destination:n,travelMode:s.maps.TravelMode[e],avoidTolls:!0},(function(e,t){"OK"===t?(c.setMap(o),c.setDirections(e)):(c.setMap(null),c.setDirections(null),alert("Could not display directions due to: "+t))}))}(s,c,o,new t.maps.DirectionsService,i,e,t),function(e,t,n,a){console.log("CalulateDistance"),(new a.maps.DistanceMatrixService).getDistanceMatrix({origins:[t],destinations:[n],travelMode:a.maps.TravelMode[e],unitSystem:a.maps.UnitSystem.metric,avoidHighways:!1,avoidTolls:!1},A)}(s,c,o,t)}}var H=function(e){var t,n,c,o,s,r=e.match.params.oid,l=Object(a.useState)(),d=Object(i.a)(l,2),u=d[0],j=d[1],m=Object(a.useState)(),b=Object(i.a)(m,2),p=b[0],f=b[1],v=Object(a.useState)([]),g=Object(i.a)(v,2),O=(g[0],g[1]),x=Object(a.useState)([]),S=Object(i.a)(x,2),N=S[0],y=S[1],C=Object(a.useState)("Calculating"),k=Object(i.a)(C,2),D=k[0],B=k[1],L={},T={lat:u,lng:p};setInterval((function(){B(G)}),4e3);var M=function(){fetch("".concat("http://54.175.153.89:4000/api","/getOrderDetailsById?id=")+r).then((function(e){return e.json()})).then((function(e){var t,n,a,c;O(e),console.log("order data",e),a=null===(t=e.data)||void 0===t?void 0:t[0].dish_id,fetch("".concat("http://54.175.153.89:4000/api","/getDishByID?id=")+a).then((function(e){return e.json()})).then((function(e){y(e)})).catch((function(e){console.log(e)})),c=null===(n=e.data)||void 0===n?void 0:n[0].chef_id,fetch("".concat("http://54.175.153.89:4000/api","/getLocation?id=")+c).then((function(e){return e.json()})).then((function(e){L={lat:parseFloat(null===e||void 0===e?void 0:e.data.lat),lng:parseFloat(null===e||void 0===e?void 0:e.data.lan)},J(E,R,T,L),console.log("".concat("http://54.175.153.89:4000/api","/getLocation?id=")+c,T,L)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},_=Object(I.a)("AIzaSyDKCv2QQ_IY7K49V4GreKYziu2qVy-ms2E",{center:{lat:u,lng:p},zoom:14}),P=_.ref,E=_.map,R=_.google;return Object(a.useEffect)((function(){window.navigator.geolocation.getCurrentPosition((function(e){j(e.coords.latitude),f(e.coords.longitude)})),M()}),[E,p,G]),Object(h.jsx)("div",{children:Object(h.jsxs)("div",{id:"orderConfirm",className:"orderConfirmSection container",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{style:{paddingTop:"25px"},children:Object(h.jsx)("h5",{children:null===N||void 0===N||null===(t=N.data)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.name})}),Object(h.jsx)("img",{className:"confirmImage",src:null===N||void 0===N||null===(c=N.data)||void 0===c||null===(o=c[0])||void 0===o?void 0:o.picture,alt:null===N||void 0===N||null===(s=N.data)||void 0===s?void 0:s[0].name})]}),Object(h.jsx)("div",{ref:P,style:{width:400,height:300}}),Object(h.jsxs)(w.a,{id:"time",className:"btns",children:["Time ",D," "]})]})})},q=(n(93),function(){p(),localStorage.getItem("id");var e,t=Object(a.useState)([]),n=Object(i.a)(t,2),c=(n[0],n[1],Object(v.f)()),o=Object(a.useState)(0),s=Object(i.a)(o,2),r=s[0],l=s[1],d=Object(a.useState)([]),u=Object(i.a)(d,2),m=(u[0],u[1],Object(a.useState)([])),b=Object(i.a)(m,2),f=b[0],g=b[1];Object(a.useEffect)((function(){x()}),[]);var O=function(){var e=Object(C.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("handleLogout() called"),t=localStorage.getItem("id"),e.next=4,fetch("".concat("http://54.175.153.89:4000/api","/signOut"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})}).then((function(e){return e.json()}));case 4:return localStorage.clear(),sessionStorage.clear(),c.push("/login"),e.abrupt("return");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(C.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://54.175.153.89:4000/api","/getOrdersByUserId?id=").concat(localStorage.getItem("id").toString()),{headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("data : ",e),g(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=localStorage.getItem("name");return Object(h.jsxs)("div",{className:"dashBoardSection",id:"dashBoard",children:[Object(h.jsxs)("div",{className:"headerSection",children:[Object(h.jsxs)("div",{className:"d-flex",children:[Object(h.jsx)("p",{className:"homes",children:Object(h.jsx)(j.b,{className:"homes",to:{pathname:"/"},children:"CHEFF"})}),Object(h.jsx)("p",{className:"userName",children:S})]}),Object(h.jsx)(w.a,{className:"buttons",type:"submit",onClick:O,children:"Logout"})]}),Object(h.jsx)("div",{className:"tabSection container",children:Object(h.jsx)("div",{className:"tabBar",children:Object(h.jsx)("div",{onClick:function(){return l(0)},className:0===r?"tabs-selected":"tabs",children:"My Order"})})}),Object(h.jsx)("div",{className:"cheffList",children:Object(h.jsx)("div",{className:"scrollsections",children:null===f||void 0===f||null===(e=f.data)||void 0===e?void 0:e.map((function(e){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(j.b,{to:{pathname:"/order/".concat(null===e||void 0===e?void 0:e.id)},style:{textDecoration:"none",color:"black"},children:Object(h.jsxs)("div",{className:"userDashboardListSection",children:[Object(h.jsxs)("div",{className:"d-flex align-items-center",children:[Object(h.jsx)("img",{className:"image",src:null===e||void 0===e?void 0:e.dishpicture,alt:null===e||void 0===e?void 0:e.dishname}),Object(h.jsx)("h4",{className:"des",children:null===e||void 0===e?void 0:e.dishname})]}),Object(h.jsx)("div",{className:"btnGroup",children:Object(h.jsx)(w.a,{id:"status",type:"submit",style:{float:"right"},children:null===e||void 0===e?void 0:e.status})})]})}),Object(h.jsx)("hr",{})]})}))})})]})}),K=localStorage.getItem("role"),V="Chef"===K?"/dashBoard":"/userDashboard",U="Chef"===K?T:q;var Y=function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(j.a,{children:Object(h.jsxs)(v.c,{children:[Object(h.jsx)(v.a,{exact:!0,path:V,component:U}),Object(h.jsxs)("div",{children:[Object(h.jsx)(m,{}),Object(h.jsx)(v.a,{exact:!0,path:"/",component:g}),Object(h.jsx)(v.a,{exact:!0,path:"/cheffList/:id",component:S}),Object(h.jsx)(v.a,{exact:!0,path:"/orderConfirm/:uid/:cid/:did/:price/:cname",component:k}),Object(h.jsx)(v.a,{exact:!0,path:"/signUp",component:L}),Object(h.jsx)(v.a,{exact:!0,path:"/login",component:B}),Object(h.jsx)(v.a,{exact:!0,path:"/selectDishes",component:M}),Object(h.jsx)(v.a,{exact:!0,path:"/waitingPage",component:_}),Object(h.jsx)(v.a,{exact:!0,path:"/order/:oid",component:F}),Object(h.jsx)(v.a,{exact:!0,path:"/userorder/:oid",component:H})]})]})})})},z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,102)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,o=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),o(e),s(e)}))};s.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(Y,{})}),document.getElementById("root")),z()}},[[94,1,2]]]);
//# sourceMappingURL=main.d07f1012.chunk.js.map